
#include <iostream>

struct Point
{
    int x;
    int y;
    
    
   /* ã–ã£ãã‚ŠåŸºæœ¬
    åŒã˜ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒå£«ã§ã¯ãªã„
    operatorã¯æˆ»ã‚Šå€¤ã€€æ¼”ç®—å­ï¼ï¼†å¼•æ•°ï¼‘ã€€ï¼†å¼•æ•°ï¼’
    åŒã˜ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒå£«
    operatorã¯æˆ»ã‚Šå€¤ã€€æ¼”ç®—å­ï¼ï¼ˆï¼†ã‚¯ãƒ©ã‚¹ãŒå¼•æ•°ï¼‰
    
    
    
   /* å‘¼ã³å‡ºã—æ–¹
    ãƒ¡ãƒ³ãƒé–¢æ•°ã¨ã—ã¦å®šç¾©,xã¨yãŒp1ã¨p2ã§å®šç¾©æ¸ˆã¿ã§ã‚ã‚‹å ´åˆã®ã¿ã€‚
    p1.operator+(p2)
    
    ã€Œå¼•æ•°ã‚’ä½¿ã£ã¦ãƒ¡ãƒ³ãƒãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã€ã¨ãã®å¼•æ•°ã®å‹ã¯
    å¿…ãšãã®ãƒ¡ãƒ³ãƒãƒ¼ï¼ˆå¤‰æ•°ã‚„é–¢æ•°ï¼‰ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã€€ã‚¯ãƒ©ã‚¹ã‚„æ§‹é€ ä½“ã®å‹ã€€ã§ã‚ã‚‹
    

    
    ã¨ã„ã†å½¢ã§è€ƒãˆã‚‹ã€‚
    //Point p3 = p1 + p2;
    //pï¼‘ã¨pï¼’ãŒå…¨ãåŒã˜ã®ãƒ¡ãƒ³ãƒãƒ¼å¤‰æ•°ã§æˆã‚Šç«‹ã¤æ™‚ã€Point p3 = p1.operator+(p2); ã¨è§£é‡ˆã•ã‚Œã‚‹ï¼š
    */
    // å¼•æ•°ã‚’ã¤ã‹ã£ã¦ãƒ¡ãƒ³ãƒãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãï¼å¼•æ•°ã¯ãƒ¡ãƒ³ãƒãƒ¼ã®ã‚ã‚‹ã‚¯ãƒ©ã‚¹ã®å‹
    //ä¸Šã«ã¯=ã¯æ›¸ã‹ãªã„
    Point operator+(const Point& other )
    {
        //ç¬¬ä¸€å¼•æ•°ã¨ï¼‹ã‚’ã²ã£ãã‚Šè¿”ã™ Point + : Pointã®ãƒ¡ãƒ³ãƒãƒ¼ã‚’xã€other.xã¨æ›¸ã„ã¦ä½¿ç”¨ã§ãã‚‹
        
        
        return Point(x + other.x, y + other.y);
        //return Point(x + other.x, y + other.y);ã§PointãŒå‹ãªã®ã§æˆ»ã‚Šå€¤ã‚‚Pointã§ã‚ã‚‹
        //Point operator+(const Point& other) ã®å¼•æ•°ãŒ Point å‹ãªã®ã¯ã€ã€Œã“ã® Point ã‚’èµ·ç‚¹ã«ã€x ã‚„ y ã‚’å–ã‚Šå‡ºã™ã“ã¨ãŒã§ãã‚‹ã‹ã‚‰ã€ãªã®ã‹ï¼Ÿ
        //ã¯ã„ã€ãã®ç†è§£ã¯ã‹ãªã‚Šæœ¬è³ªã‚’çªã„ã¦ã„ã¾ã™ï¼other ãŒ Point å‹ã§ã‚ã‚‹ç†ç”±ã¯ã€ç›¸æ‰‹ï¼ˆå³è¾ºï¼‰ã® x ã‚„ y ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã„
        //Point operator+(const Point& other)ã“ã®æ§‹æ–‡ã¯ **ã€Œå·¦è¾ºã® Point ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã€å³è¾ºã® Pointã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’åŠ ãˆã‚‹ã€**ã¨ã„ã†æ„å‘³ã§ã™ã€‚
        /*
         p1 ã¯ this ãƒã‚¤ãƒ³ã‚¿ã¨ã—ã¦æš—é»™ã«æ¸¡ã•ã‚Œã¦ã„ã‚‹â†’ this->x, this->y ã§è‡ªåˆ†ã®åº§æ¨™ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹
         p2 ã¯ other ã¨ã„ã†å¼•æ•°ã¨ã—ã¦æ˜ç¤ºçš„ã«æ¸¡ã•ã‚Œã¦ã„ã‚‹â†’ other.x, other.y ã§ç›¸æ‰‹ã®åº§æ¨™ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹
            Pointã‚’å¼•æ•°ã«ã—ã¦ãƒ¡ãƒ³ãƒãƒ¼ã«ã‚¢ã‚¯ã‚»ã‚¹ã€‚
            xã€yã«ã‚¢ã‚¯ã‚»ã‚¹
            æ„å‘³
            ã€€x            è‡ªåˆ†ï¼ˆp1ï¼‰ã®xåº§æ¨™ï¼ˆthis->xï¼‰
             other.x      ç›¸æ‰‹ï¼ˆp2ï¼‰ã®xåº§æ¨™
             x + other.x   è‡ªåˆ†ã¨ç›¸æ‰‹ã®xã‚’åˆè¨ˆ
             Point(...)    æ–°ã—ã„åº§æ¨™ã®ç‚¹ã‚’ä½œã‚‹
         */
        
        
        /*
        éãƒ¡ãƒ³ãƒé–¢æ•°ã¨ã—ã¦å®šç¾©
        operator+(p1, p2) ï¼šãã®ã¾ã¾èª­ã‚ã‚‹
        
        struct Point
         {
            int x;
            int y;
        };
         
         
         
ä¸€æ–¹ã§ã€€éãƒ¡ãƒ³ãƒé–¢æ•°ã®æ™‚ã¯
éãƒ¡ãƒ³ãƒé–¢æ•°ã¨ã—ã¦å®šç¾©ï¼ˆfriend ã§ãªãã¦ã‚‚OKï¼‰
         
        Point operator+(const Point& a, const Point& b) {
            return Point{a.x + b.x, a.y + b.y};
         // +ã¨ç¬¬ä¸€ã‚’ã²ã£ãã‚Šè¿”ã—ã¦ã€a + bã€€ã®æ§‹é€ 
         
        }

        int main() {
            Point p1{1, 2};
            Point p2{3, 4};

            Point p3 = p1 + p2;  // éãƒ¡ãƒ³ãƒé–¢æ•°ãŒå‘¼ã°ã‚Œã‚‹ã€‚å¼•æ•°ã‹ã‚‰è¦‹ã‚‹è¨ˆç®—ã€€returnãŒæˆ»ã‚Šå€¤

            std::cout << "p3: (" << p3.x << ", " << p3.y << ")" << std::endl;
            return 0;
        }
         
         1. operator+(const Point& a, const Point& b) ã®å½¹å‰²
         ã“ã®é–¢æ•°ã¯ã€Œ2ã¤ã® Point å‹ã®å¼•æ•°ï¼ˆa ã¨ bï¼‰ã‚’å—ã‘å–ã‚Šã€ãã®åˆè¨ˆã¨ãªã‚‹æ–°ã—ã„ Point ã‚’è¿”ã™ã€é–¢æ•°ã§ã™ã€‚æˆ»ã‚Šå€¤ã¯ Point å‹ãªã®ã§ã€çµæœã¯ã€Œåº§æ¨™ã‚’è¶³ã—åˆã‚ã›ãŸæ–°ã—ã„ç‚¹ã€ã§ã™ã€‚
         
         2. é–¢æ•°å†…éƒ¨ã®è¨ˆç®—éç¨‹ï¼ša.x + b.x ã¨ a.y + b.y
         a.x ã¨ b.x ã¯ã©ã¡ã‚‰ã‚‚ intå‹ã®å€¤ã§ã™ï¼ˆPoint ã®ãƒ¡ãƒ³ãƒå¤‰æ•°ï¼‰ã€‚

         ãã®ãŸã‚ a.x + b.x ã¯ intåŒå£«ã®åŠ ç®—æ¼”ç®— ã«ãªã‚Šã¾ã™ã€‚
         åŒæ§˜ã« a.y + b.y ã‚‚ int ã®åŠ ç®—ã§ã™ã€‚

         ã¤ã¾ã‚Šã€
         return Point{a.x + b.x, a.y + b.y};ã¯ã€
         a ã¨ b ã®ãã‚Œãã‚Œã® x ã¨ y ã®å€¤ã‚’ int ã¨ã—ã¦è¶³ã—ã¦ã„ã‚‹
         ãã®åˆè¨ˆå€¤ã‚’ä½¿ã£ã¦æ–°ã—ã„ Point ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œã‚Šã€è¿”ã—ã¦ã„ã‚‹

         3. ã€Œå¼•æ•°1 + å¼•æ•°2 ã«åˆ†è§£ã•ã‚Œã‚‹ã€ã¨ã„ã†ã‚¤ãƒ¡ãƒ¼ã‚¸
         é–¢æ•°å‘¼ã³å‡ºã—ã¯ p1 + p2 ã®å½¢ã§è¡Œã‚ã‚Œã¾ã™ãŒã€ã“ã‚Œã¯
         operator+(p1, p2);
         ã®å‘¼ã³å‡ºã—ã¨åŒã˜æ„å‘³ã§ã™ã€‚p1 ã¨ p2 ã¯ãã‚Œãã‚Œ a ã¨ b ã«å¯¾å¿œã—ã€
         a.x + b.x, a.y + b.y ã¨ã—ã¦è¨ˆç®—ã•ã‚Œã‚‹ã®ã§ã€
         ã€Œå¼•æ•°1ã®xã«å¼•æ•°2ã®xã‚’è¶³ã™ã€è¨ˆç®—ã‚’ã—ã¦ã„ã‚‹ã¨ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ãã¾ã™ã€‚

         4. æœ€å¾Œã«å…¨ä½“åƒã‚’ã¾ã¨ã‚ã‚‹ã¨

         p1 + p2
          â†“ ï¼ˆå‘¼ã³å‡ºã—ï¼‰
         operator+(p1, p2)
          â†“ ï¼ˆå‡¦ç†ï¼‰
           a.x + b.x  â†’ intåŒå£«ã®åŠ ç®—
           a.y + b.y  â†’ intåŒå£«ã®åŠ ç®—
          â†“ ï¼ˆæˆ»ã‚Šå€¤ï¼‰
         æ–°ã—ã„ Point ãŒè¿”ã•ã‚Œã‚‹
         
         p3 = p1 + p2; ã¨ã„ã†å¼ã§ã¯ã€
         p1 + p2 ã®éƒ¨åˆ†ãŒã¾ãšè©•ä¾¡ã•ã‚Œã¦ã€Point å‹ã®ä¸€æ™‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒä½œã‚‰ã‚Œã‚‹
         ãã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒ ä»£å…¥æ¼”ç®—å­ï¼ˆoperator=ï¼‰ ã‚’ä½¿ã£ã¦ p3 ã«ã‚³ãƒ”ãƒ¼ã¾ãŸã¯ãƒ ãƒ¼ãƒ–ä»£å…¥ã•ã‚Œã‚‹
         p3 ã¯ãã®æ–°ã—ã„ Point ã®å€¤ã‚’æŒã¤ã“ã¨ã«ãªã‚‹

         ğŸ” ã‚¹ãƒ†ãƒƒãƒ—åˆ†è§£ã§è§£èª¬
         Point p1{1, 2};
         Point p2{3, 4};
         Point p3;

         p3 = p1 + p2;
         Point p3;           // â‘  ç©ºã® p3 ã‚’ç”¨æ„
         
         p1 + p2;ã®æ¼”ç®—ãŒã‚¹ã‚¿ãƒ¼ãƒˆ

         Point temp = p1 + p2; // â‘¡ ä¸€æ™‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ tempï¼ˆ= Point{4, 6}ï¼‰ãŒã§ãã‚‹

         p3 = temp;          // â‘¢ temp ã®å€¤ãŒ p3 ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹ï¼ˆoperator=ï¼‰
         // temp ã¯ã“ã®ã‚ã¨ç ´æ£„ã•ã‚Œã‚‹ï¼ˆã‚¹ã‚³ãƒ¼ãƒ—ãŒçµ‚äº†ï¼‰
         
         
         ã‚¹ãƒ†ãƒƒãƒ—1ï¼šp1 + p2 ã®è©•ä¾¡
         ã“ã“ã§å‘¼ã°ã‚Œã‚‹ã®ã¯ operator+(const Point& a, const Point& b)

         ä¸­ã§ã¯ã“ã†ãªã‚‹ï¼š
         Point temp = Point{p1.x + p2.x, p1.y + p2.y};  // temp = {4, 6}
         ã‚¹ãƒ†ãƒƒãƒ—2ï¼šä»£å…¥

         p3 = temp;  // ä»£å…¥æ¼”ç®—ï¼ˆoperator=ï¼‰ãŒå‘¼ã°ã‚Œã‚‹
         ã‚‚ã— Point ã«ç‰¹åˆ¥ãª operator= ã‚’å®šç¾©ã—ã¦ã„ãªã‘ã‚Œã°ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒè‡ªå‹•ç”Ÿæˆã™ã‚‹ã‚³ãƒ”ãƒ¼ä»£å…¥ãŒä½¿ã‚ã‚Œã¾ã™ã€‚

         
         
         
         
         
         
         
         
         
         
         
        */
        
        
        
    }
    
    
    
    
    
    
};

int main()
{
    Point p1{1,1};
    Point p2{2,2};
    
    //ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒå£«ã®æ¼”ç®—ã¯èª­ã¿è¾¼ã‚ãªã„
    Point p3 = p1 + p2;
    // ãƒ¡ãƒ³ãƒå¤‰æ•° x ã¨ y ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‹ã‚‰ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ï¼ˆp3.x, p3.yï¼‰ã€‚
    // // ä¸€æ–¹ã€p3 è‡ªä½“ã«å¯¾ã—ã¦ã¯ã€æ¼”ç®—å­ + ã«ã‚ˆã£ã¦ç”Ÿæˆã•ã‚ŒãŸæ–°ã—ã„ Point ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚Šã€
    // p3 ã®ä¸­èº«ï¼ˆx ã‚„ yï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦å€¤ã‚’å–ã‚Šå‡ºã™ã“ã¨ãŒã§ãã‚‹ãŒã€
    // p3 ã‚’ã€Œæ¼”ç®—å­ + ã‚’ä½¿ã£ã¦ã€ç›´æ¥æ“ä½œãƒ»å‚ç…§ã™ã‚‹ã“ã¨ã¯ã§ããªã„ã€‚
    std::cout << p3.x <<" "<< p3.y << std::endl;
    
    //ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ã£ã¦p3ã‚’å–ã‚Šå‡ºã™ã€‚
    
    
    
    

    
    return 0;
}
